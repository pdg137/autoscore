<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='utf-8'>
<meta content='width=device-width, initial-scale=1' name='viewport'>
<script src='https://code.jquery.com/jquery-3.6.4.min.js'></script>
<script src='autoscore_v3.js'></script>
<link rel='stylesheet' href='style.css'>
</head>
<body>

  <h1>
    Autoscore v3
  </h1>

  <ul>
    <li>KataGo checks the position with White having next move
    <li>KataGo checks the position with Black having next move
    <li>Any discrepancy between these two is marked as “unsettled”, the rest is marked as “settled”.
    <li>Chains of unsettled area (open intersections + unsettled stones + dead stones) are considered as a whole.
    <li>White and black stones on the boundary of each area are counted.
    <li>Do not count stones only bordering dead/unsettled stones.
    <li>"Dead" stones in dame (border contains both white and black) are considered unsettled.
    <li>If the whole boundary is Black, mark only the unsettled White stones dead.
    <li>If the whole boundary is White, mark only the unsettled Black stones dead.
    <li>Otherwise (including if there is no boundary) leave all unsettled stones alive.
  </ul>

  <p>
  <form>
    Enter game ID: <input type="text" name="game">
    <input type="submit" value="Score">
  </form>
  <form>
    Or enter board state: <input type="text" name="board">
    <input type="submit" value="Score">
  </form>
  </p>

<div class='section'>
<h2>Board state</h2>
<pre id='board'></pre>
</div>

<div class='section'>
<h2>AI estimate, White to move</h2>
<pre id='white'>loading...</pre>
</div>

<div class='section'>
<h2>AI estimate, Black to move</h2>
<pre id='black'>loading...</pre>
</div>

<div class='section'>
<h2>Combined AI estimate</h2>
<pre id='combined'>loading...</pre>
</div>

<div class='section'>
<h2>Regions</h2>
<pre id='regions'></pre>
</div>

<div class='section'>
<h2>Unsettling dead stones in dame</h2>
<pre id='combined2'>loading...</pre>
</div>

<div class='section'>
<h2>Algorithm result</h2>
<pre id='algorithm'></pre>
</div>

<div style='text-align: left;'>
<h2>Key</h2>
➕ Territory or dame<br>
⚫⚪ Live<br>
⬛⬜ Dead<br>
🖤🤍 Unsettled<br>
</div>

</body>
</html>
